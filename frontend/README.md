# 🎓 AI 친구 사귀기 시뮬레이션 게임

대학교 졸업 전시용 AI 기반 체험형 시뮬레이션 게임입니다.

## 📖 게임 소개

한국 고등학교 3학년을 배경으로, 졸업까지 6개월 동안 **3명의 친구를 사귀는 것**을 목표로 하는 시뮬레이션 게임입니다.

### 주요 특징

- 🤖 **AI 기반 동적 대화**: OpenAI GPT를 활용한 자연스러운 대화
- 🎤 **음성/텍스트 입력**: Web Speech API를 통한 음성 인식 및 합성
- 👥 **3명의 개성 있는 캐릭터**: 각기 다른 MBTI와 성격을 가진 친구들
- 💕 **친밀도 시스템**: 대화를 통해 친밀도를 쌓고 이벤트 발생
- 🎭 **다양한 엔딩**: 친구 수에 따라 4가지 엔딩 분기
- ⏱️ **짧은 플레이 타임**: 5~10분 내외의 전시/데모 최적화

## 👥 등장 캐릭터

### 유리 (ISFJ - 옹호자)
- **성격**: 책임감 강하고 조용하지만 따뜻함
- **특징**: 내향형, 모범생, 반장 후보
- **말투**: "~요", "~죠"

### 지호 (ESFP - 연예인)
- **성격**: 밝고 유쾌함, 사람을 좋아함
- **특징**: 외향형, 친근한 친구, 운동부
- **말투**: "~지?", "와!", "어, 고마워!"

### 세연 (INTJ - 전략가)
- **성격**: 지적이고 냉정하지만 정의감 강함
- **특징**: 도도한 천재, 독서 동아리
- **말투**: "~다", "~구나", "흥미로운 관점이군"

## 🛠 기술 스택

- **프론트엔드**: React 18 + Vite
- **스타일링**: Tailwind CSS
- **상태 관리**: Zustand
- **AI**: OpenRouter (백엔드 프록시 경유)
- **음성**: Web Speech API (STT/TTS)

## 🚀 설치 및 실행 (백엔드 연동)

### 1. 의존성 설치

```bash
npm install
```

### 2. 환경 변수 설정 (루트 백엔드)

프론트엔드는 이제 직접 OpenAI를 호출하지 않고, `backend/server.js`(Express) 백엔드를 통해 OpenRouter로 프록시 호출합니다.

백엔드 폴더(`backend/`)에 `.env` 파일을 생성하고 다음 값을 설정하세요:

```
OPENROUTER_API_KEY=your_openrouter_key_here
PORT=3000
```

### 3. 개발 서버 실행

```bash
# 통합 실행 (권장): 루트에서 한 번에 실행
npm run dev

# 개별 실행 (선택): 백엔드/프론트 분리 실행
node backend/server.js    # 루트에서 실행
cd frontend && npm run dev
```

- 프론트엔드: `http://localhost:5173` (Vite 기본 포트)
- 백엔드: `http://localhost:3000`

프론트엔드는 `/api/*` 경로를 자동으로 `http://localhost:3000`으로 프록시합니다.

### 4. 프로덕션 빌드

```bash
npm run build
```

빌드된 파일은 `dist` 폴더에 생성됩니다. 운영 배포 시에는 Express(`backend/server.js`)에서 `frontend/dist`를 정적으로 서빙하도록 설정되어 있습니다.

## 🎮 게임 플레이 방법

1. **게임 시작**: 온보딩 화면에서 "게임 시작하기" 버튼 클릭
2. **캐릭터 선택**: 왼쪽 패널에서 대화하고 싶은 친구 선택
3. **대화하기**: 
   - 텍스트 입력창에 메시지 입력 후 전송
   - 또는 🎤 버튼을 눌러 음성으로 대화
4. **친밀도 쌓기**: 대화를 통해 친밀도를 100까지 올리기
5. **이벤트 발생**: 친밀도 50, 75, 100 도달 시 특별 이벤트 발생
6. **졸업식**: 3명의 친구를 사귀면 베스트 엔딩!

## 📊 게임 시스템

### 친밀도 시스템
- **0-30**: 조심스러운 관계
- **31-60**: 점점 친근해지는 단계
- **61-90**: 편한 친구 관계
- **91-100**: 매우 친밀한 친구

### 이벤트 트리거
각 캐릭터는 친밀도 50, 75, 100에 도달하면 특별 이벤트가 발생합니다.

### 엔딩 분기
- **베스트 엔딩**: 3명 이상의 친구
- **굿 엔딩**: 2명의 친구
- **노멀 엔딩**: 1명의 친구
- **배드 엔딩**: 친구 없음

## 🎨 UI/UX 특징

- 반응형 디자인 (모바일/태블릿/데스크톱)
- 부드러운 애니메이션 효과
- 직관적인 인터페이스
- 실시간 친밀도 시각화
- 캐릭터별 색상 테마

## 🔧 개발 참고사항

### 프로젝트 구조

```
src/
├── components/          # React 컴포넌트
│   ├── OnboardingScreen.jsx
│   ├── GameScreen.jsx
│   ├── EndingScreen.jsx
│   ├── CharacterSelector.jsx
│   ├── ChatBubble.jsx
│   ├── IntimacyBar.jsx
│   └── NarrationBox.jsx
├── services/           # 외부 서비스 연동
│   └── aiService.js    # OpenAI API, STT/TTS
├── store/              # 상태 관리
│   └── gameStore.js    # Zustand 스토어
├── App.jsx             # 메인 앱 컴포넌트
├── main.jsx            # 엔트리 포인트
└── index.css           # 글로벌 스타일
```

### API 연동 방식

- 프론트엔드는 `/src/services/aiService.js`에서 캐릭터별 `persona`(시스템 프롬프트)를 생성해 백엔드 `/api/ask`로 전달합니다.
- 백엔드는 전달받은 `persona`를 시스템 프롬프트로 사용하여 OpenRouter Chat Completions API로 요청합니다.
- API 키는 프론트에 노출하지 않고, `backend/.env`의 `OPENROUTER_API_KEY`로만 관리합니다.

### 참고

- 기존 `VITE_OPENAI_API_KEY`는 더 이상 필요하지 않습니다.
- 개발 중 포트 충돌을 피하기 위해 Vite는 `5173`, Express는 `3000`을 사용합니다.

### 브라우저 호환성

- **음성 인식**: Chrome, Edge (WebKit 기반 브라우저)
- **음성 합성**: 대부분의 모던 브라우저 지원
- **권장 브라우저**: Chrome 최신 버전

## 📝 라이선스

이 프로젝트는 대학교 졸업 전시용으로 제작되었습니다.

## 🙏 감사의 말

이 게임을 플레이해주셔서 감사합니다! 피드백은 언제나 환영합니다.
